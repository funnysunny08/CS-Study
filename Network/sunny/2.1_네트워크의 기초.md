# ⚡️ 네트워크의 기초

## 네트워크란?

> *두 대 이상의 컴퓨터들을 연결하고 서로 통신할 수 있는 것*


네트워크란 노드(node)와 링크(link)가 서로 연결되어 있으며 리소스를 공유하는 집합을 의미한다.
👉 여기서 노드란 서버, 라우터, 스위치 등 네트워크 장치를 의미하고 링크는 유선 또는 무선을 의미한다.

## 1. 처리량과 지연 시간

💡 좋은 네트워크란, ***많은 처리량을 처리할 수 있으며 지연 시간이 짧고 장애 빈도가 적으며 좋은 보완을 갖춘 네트워크***를 말한다.

![https://user-images.githubusercontent.com/88873302/228306049-77c277ad-8441-47c7-a682-01a86e0e5342.jpeg](https://user-images.githubusercontent.com/88873302/228306049-77c277ad-8441-47c7-a682-01a86e0e5342.jpeg)

### 처리량 throughput

> 처리량(throughput)이란 링크를 통해 전달되는 단위 시간당 데이터양

- bps (bits per second) 단위 사용 👉 초당 전송 또는 수신되는 비트 수라는 의미
- 처리량은 사용자들이 많이 접속할 때마다 커지는 트래픽, 네트워크 장치 간의 대역폭, 네트워크 중간에 발생하는 에러, 장치의 하드웨어 스펙에 영향을 받는다.
    - 대역폭 : 주어진 시간 동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수

### 지연 시간 latency

> 지연 시간(latency)이란 요청이 처리되는 시간을 말하며 어떤 메시지가 두 장치 사이를 왕복하는 데 걸린 시간을 말한다
 

![https://user-images.githubusercontent.com/88873302/228307079-54014226-7d57-4d15-8f21-83c2051311a2.png](https://user-images.githubusercontent.com/88873302/228307079-54014226-7d57-4d15-8f21-83c2051311a2.png)

- 지연 시간은 매체 타입 (무선, 유선), 패킷 크기, 라우터의 패킷 처리 시간에 영향을 받는다.

### Throughput vs. Latency

👉 Throughput은 초당 처리하는 작업의 개수

👉 Latency는 하나의 작업을 처리하는 데 걸리는 시간

💡 Throughput ⬆️ → Latency(대기 시간)이 늦어진다.

## 2. 네트워크 토폴로지와 병목 현상

### 네트워크 토폴로지란?

> 네트워크 토폴로지(network topology)는 네트워크를 배치하는 방식으로, ***노드와 링크가 어떻게 배치되어 있는지에 대한 방식이자 연결 형태***를 의미한다.

- 네트워크를 하나의 도시라고 생각하면 토폴로지는 도로를 표시한 지도

### 트리 토폴로지

> 트리(tree) 토폴로지는 계층형 토폴로지라고 하며 트리 형태로 배치한 네트워크 그성을 말한다.


![https://user-images.githubusercontent.com/88873302/228309746-6dcad490-b25d-4e54-a9f8-3a607505b36e.png](https://user-images.githubusercontent.com/88873302/228309746-6dcad490-b25d-4e54-a9f8-3a607505b36e.png)

- 트리 토폴로지에서 노드들은 부모-자식 계층 구조로 연결
- 연결된 두 개의 노드는 하나의 연결만을 상호 공유
- 스타 토폴로지와 버스 토폴로지의 요소가 결합한 구조
- 트리 토폴로지 구조는 극히 유연하고 네트워크 확장이 매우 쉽기 때문에, 광역 통신망에 사용되어 넓게 퍼진 장치들을 지원한다
- 👍 네트워크 확장이 쉽다
- 👍 성능에 이상이 생긴 경우 각각의 가지에 개별적으로 접근할 수 있기 때문에 네트워크 장애를 해결하는 과정이 비교적 간단한다
- 👎 전체 네트워크의 안정성이 중앙 노드에 달려 있다. 만에 하나 중앙 허브에 문제가 발생하면, 가지 시스템 내에서는 연결되어 있더라도 가지들 사이의 연결은 끊어진다
- 👎 계층 구조의 복잡성과 네트워크 배치의 선형 구조 때문에 트리 토폴로지에 노드를 추가할 수록 적절한 관리를 하기가 점점 더 어려워진다 👉 비용 문제

### 버스 토폴로지

> 버스(bus) 토폴로지는 중앙 통신 회선 하나에 여러 개의 노드가 연결되어 공유하는 네트워크 구성을 말하며 근거리 통신망(LAN)에서 사용한다.


![https://user-images.githubusercontent.com/88873302/228311161-3c697bf4-8ff1-45e9-ac79-d783979e8438.png](https://user-images.githubusercontent.com/88873302/228311161-3c697bf4-8ff1-45e9-ac79-d783979e8438.png)

- 버스 토폴로지는 네트워크상의 모든 장치가 하나의 케이블로 연결
- 네트워크의 한 쪽 끝에서 다른 쪽 끝으로 한 방향으로 연결되어 있기에 `선형 토폴로지` , `백본 토폴로지` 라고도 부른다
- 네트워크상의 데이터 흐름 역시 케이블의 경로를 따라 한 방향으로 흘러간다
- 👍 설치 비용이 적고 신뢰성이 우수 👈 네트워크 배치가 단순하기 때문
- 소규모 네트워크에 적합
- 👎 But, **스푸핑**이 가능한 문제점 존재
    - 스푸핑은 LAN 상에서 송신부의 패킷을 송신과 관련 없는 다른 호스트에 가지 않도록 하는 스위칭 기능을 마비시키거나 속여서 특정 노드에 해당 패킷이 오도록 처리하는 것
    - 스푸핑을 적용하면 올바르게 수신부로 가야 할 패킷이 악의적인 노드에 전달될 수도 있다

### 스타 토폴로지

> 스타(star) 토폴로지는 중앙에 있는 노드에 모두 연결된 네트워크 구성


![https://user-images.githubusercontent.com/88873302/228313197-abd54398-e117-4f22-ba8d-b59528a5b96b.png](https://user-images.githubusercontent.com/88873302/228313197-abd54398-e117-4f22-ba8d-b59528a5b96b.png)

- 네트워크 안의 각각의 노드에서 보낸 정보가 목적지에 닿기 위해서는 반드시 중앙 노드를 지나야 한다
- 👍 노드를 추가하거나 에러를 탐지하기 쉽고 패킷의 충돌 발생 가능성이 적다
- 👍 어떠한 노드에 장애가 발생해도 쉽게 에러를 발견할 수 있으며 장애 노드가 중앙 노드가 아닐 경우 다른 노드에 영향을 끼치는 것이 적다
- 👎 하지만 중앙 노드에 장애가 발생하면 전체 네트워크를 사용할 수 없고 설치 비용이 고가이다

### 링형 토폴로지

> 링형(ring) 토폴로지는 각각의 노드가 양 옆의 두 노드와 연결하여 전체적으로 고리처럼 하나의 연속된 길을 통해 통신을 하는 망 구성 방식


![https://user-images.githubusercontent.com/88873302/228400835-c201c4e2-ea9e-47c9-8209-3d788cea41ff.jpeg](https://user-images.githubusercontent.com/88873302/228400835-c201c4e2-ea9e-47c9-8209-3d788cea41ff.jpeg)

- 데이터는 노드에서 노드로 양방향 혹은 단방향으로 이동을 하게 되며, 각각의 노드는 고리 모양의 길을 통해 처리한다
- 👍 노드의 고장 발견을 쉽게 찾을 수 있디
- 👍 한 번에 하나의 노드에서만 데이터를 전송할 수 있기 때문에 👉 패킷이 충돌할 위험이 거의 없어 데이터를 오류 없이 효율적으로 전송할 수 있다
- 👍 비용 효율적
- 👎 네트워크 구성 변경이 어렵고 회선에 장애가 발생하면 전체 네트워크에 영향을 크게 끼친다
- 👎 확장성의 문제 : 네트워크 안의 모든 장치가 대역폭을 공유하므로, 장치를 추가하면 전반적으로 통신 지연을 일으킬 수 있다

### 메시 토폴로지

> 메시(mesh) 토폴로지는 망형 토폴로지라고도 하며 그물망처럼 연결되어 있는 구조


![https://user-images.githubusercontent.com/88873302/228402113-58df404a-2f29-461a-9a5f-dc46b5983749.png](https://user-images.githubusercontent.com/88873302/228402113-58df404a-2f29-461a-9a5f-dc46b5983749.png)

- 메시 토폴로지는 노드들을 점대 점으로 상호 연결한 구조로 복잡하고 정교하다
- 메시 네트워크는 ***완전 메시 형***과 ***부분 메시 형***이 있다
    - 부분 연결형 메시 토폴로지는 대부분이 상호연결된 가운데, 몇몇 노드들은 두세 개 장치들과만 연결
    - 완전 연결형 메시 토폴로지는 모든 노드가 상호 연결
- 메시 토폴로지의 거미줄 같은 구조에서 데이터는 ***라우팅***과 ***프로딩***의 두 가지 다른 방법으로 전송
    - 데이터를 라우팅 방식으로 전송하면, 노드는 출발지부터 목적지까지의 최단 거리를 논리적으로 결정하여 데이터를 전송
    - 데이터를 플러딩 방식으로 전송하면, 정보는 네트워크 안의 모든 노드로 보내져 논리적으로 최단 거리를 결정할 필요가 없다
- 👍 안정성과 보안성이 뛰어나고, 노드 간에 상호 연결된 정도가 높고 복합적이어서 장애에 강하다
- 👍 한 단말 장치에 장애가 발생해도 여러 개의 경로가 존재하므로 네트워크를 계속 사용할 수 있고 트래픽도 분산 처리가 가능하다
- 👎 노드의 추가가 어렵고 구축 비용과 운용 비용이 고가인 단점이 있다

### 병목 현상

*네트워크의 구조라고도 일컫는 토폴로지가 중요한 이유는 **병목 현상을 찾을 때** 중요한 기준이 되기 떄문이다*

> 병목(bottleneck) 현상은 전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한을 받는 현상을 말한다


예를 들어 병의 몸통보다 병의 목 부분 내부 지름이 좁아서 물이 상대적으로 천천히 쏟아지는 것에 비유할 수 있다. 서비스에서 이벤트를 열었을 때 트래픽이 많이 생기고 그 트래픽을 잘 관리하지 못하면 병목 현상이 생겨 사용자는 웹사이트로 들어가지 못한다.

**네트워크 병목 현상의 주된 원인**

- 네트워크 대역폭
- 네트워크 토폴로지
- 서버 CPU, 메모리 사용량
- 비효율적인 네트워크 구성

**병목 현상 발생**

![https://user-images.githubusercontent.com/88873302/228404099-eca3d5db-dedf-4eb3-b4d3-86a22460aed8.png](https://user-images.githubusercontent.com/88873302/228404099-eca3d5db-dedf-4eb3-b4d3-86a22460aed8.png)

예를 들어 앞의 그림처럼 서비스를 만들었는데, 병목 현상이 일어나서 사용자가 서비스를 이용할 때 지연 시간이 길게 발생하고 있다고 해보자❗️

**적절한 회선 추가를 통한 병목 현상 해결**

![https://user-images.githubusercontent.com/88873302/228404377-2685ebcd-6d8c-49f4-9f8b-d083ba05d750.png](https://user-images.githubusercontent.com/88873302/228404377-2685ebcd-6d8c-49f4-9f8b-d083ba05d750.png)

관리자는 네트워크 토폴로지가 어떻게 되어 있나 확인했고, 서버와 서버 간 그리고 게이트웨이로 이어지는 회선을 추가해서 병목 현상을 해결했다.

💡 이처럼 네트워크가 어떤 토폴로지를 갖는지, 또한 어떠한 경로로 이루어져 있는지 알아야 병목 현상을 올바르게 해결할 수 있다

## 3. 네트워크 분류

네트워크는 규모를 기반으로 LAN, MAN, WAN으로 분류할 수 있다

### LAN (Local Area Network)

- 근거리 통신망
- 같은 건물이나 캠퍼스 같은 좁은 공간에서 운영
- 전송 속도가 빠르고 혼잡하지 않다
- LAN 구성에는 버스형, 링형, 스타형이 많이 사용된다

### MAN (Metropolitan Area Network)

- 도시 통신망
- 대도시 지역 네트워크를 나타내며 도시 같은 넓은 지역에서 운영된다
- 일반적으로 여러 개의 LAN을 라우터로 상호 연결한다
- 전송 속도는 평균이며 LAN 보다는 더 많이 혼잡하다

### WAN (Wide Area Network)

- 광역 통신망
- 국가 또는 대륙 같은 더 넓은 지역에서 운영
- 일반적으로 공중통신사업자 (Public Switching Data Network Provider)가 제공하는 전용 회선 (leased line)을 연결해서 사용한다
- 전송 속도는 낮으며 MAN 보다 더 혼잡하다

## 4. 네트워크 성능 분석 명령어

### ping

- 네트워크 상태를 확인하려는 대상 노드를 향해 일정 크기의 패킷을 전송하는 명령어
- 이를 통해  해당 노드의 패킷 수신 상태와 도달하기까지 시간 등을 알수 있으며 해당 노드까지 네트워크가 잘 연결되어 있는지 확인할 수 있다

### netstat

- 접속되어 있는 서비스들의 네트워크 상태를 표시하는 데 사용
- 네트워크 접속, 라우팅 테이블, 네트워크 프로토콜 등 리스트를 보여준다
- 주로 서비스의 포트가 열려 있는지 확인할 때 사용

### nslookup

- DNS에 관련된 내용을 확인하기 위해 쓰는 명령어
- 특정 도메인에 매핑된 IP를 확인하기 위해 사용

### tracert

- 윈도우에서는 tracert, 리눅스에서는 traceroute라는 명령어
- 목적지 노드까지 네트워크 경로를 확인할 때 사용
- 목적지 노드까지 구간들 중 어느 구간에서 응답 시간이 느려지는지 등을 확인

## 5. 네트워크 프로토콜 표준화

> 네트워크 프로토콜이란 다른 장치들끼리 데이터를 주고받기 위해 설정된 공통된 인터페이스

이러한 프로토콜은 IEEE 또는 IETF라는 표준화 단체가 이를 정한다

- IEEE802.3은 유선 LAN 프로토콜로, 유선으로 LAN을 구축할 때 쓰이는 프로토콜 👉 이를 통해 만든 기업이 다른 장치라도 서로 데이터를 수신할 수 있게 된다

---

### 참고 자료

- 면접을 위한 CS 전공지식 노트
- [https://www.edrawsoft.com/kr/for-beginners/what-is-network-topology.html](https://www.edrawsoft.com/kr/for-beginners/what-is-network-topology.html)