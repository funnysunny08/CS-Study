# 데이터베이스의 기본
> **데이터베이스(Database, DB)란? 🤔** <br>
*일정한 규칙, 혹은 규약을 통해 구조화되어 저장되는 데이터의 모음*


해당 데이터베이스를 제어, 관리하는 통합 시스템을 DBMS(DataBase Management System)라고 하며, 데이터베이스 안에 있는 데이터들은 특정 DBMS마다 정의된 쿼리 언어를 통해 삽입, 삭제, 수정, 조회 등을 수행할 수 있다!

![image](https://github.com/funnysunny08/Algorithm-java/assets/88873302/c8280552-1359-44e9-baaf-997e082bc7a8)

위 그림처럼 데이터베이스 위에 DBMS가 있고 그 위에 응용 프로그램이 있으며, 이러한 구조를 기반으로 데이터를 주고받는다!

### 데이터베이스의 특징

1. **실시간 접근성(Real-Time Accessibility):** 실시간 처리에 의한 응답이 가능해야 한다.
2. **계속적인 변화(Continuous Evolution):** 새로운 데이터의 삽입(Insert), 삭제(Delete), 갱신(Update)로 항상 최신의 데이터를 유지한다.
3. **동시 공용(Concurrent Sharing):** 다수의 사용자가 동시에 같은 내용의 데이터를 이용할 수 있어야 한다.
4. **내용에 의한 참조(Content Reference):** 데이터베이스에 있는 데이터를 참조할 때 사용자의 요구에 따른 데이터 내용으로 데이터를 찾는다.

## 엔터티(entity)

**엔터티란? 👉 실체, 객체 ?!**

- 사람, 장소, 물건, 사건, 개념 등 여러 개의 속성을 지닌 명사
- 업무상 관리가 필요한 것
- 저장 되기 위한 어떤 것(Thing)

예를 들어,

학교라는 곳에서는 과목이라는 엔터티가 존재할 수 있다.

그리고 엔터티는 인스턴스의 집합으로 나타나게 된다. 즉 과목이라는 엔터티가 있다면 수학, 국어, 영어와 같은 인스턴스 과목이라는 엔터티에 포함되는 것이다.

이때 엔터티는 자신이 가지고 있는 인스턴스를 설명할 수 있는 속성(Attribute)를 가지게 된다. 앞에서 이야기한 수학, 국어, 영어와 같은 인스턴스가 존재한다면 이들은 과목이라는 엔터티에서 이름이라는 속성을 갖고 있는 것!

> **약한 엔터티와 강한 엔터티**<br>
A가 혼자서는 존재하지 못하고 B의 존재 여부에 따라 종속적이라면 A는 약한 엔터티이고 B는 강한 엔터티가 된다!


## 릴레이션(relation)

*릴레이션 👉 데이터베이스에서 정보를 구분하여 저장하는 기본 단위*

엔터티에 관한 데이터를 데이터베이스는 릴레이션 하나에 담아서 관리한다!

![image](https://github.com/funnysunny08/Algorithm-java/assets/88873302/92272908-f111-4f50-95c0-006db9fa3980)

### 튜플(tuple)

*튜플은 릴레이션을 구성하는 각각의 행을 말하며 속성의 모임으로 구성된다.*

### 속성(attribute)

속성은 *데이터베이스를 구성하는 가장 작은 논리적 단위이며 개체의 특성을 기술한다.*

예를 들어, ‘차’라는 덴터티의 속성을 뽑는다 하면!!  
차 넘버, 바퀴 수, 차 색깔, 차종 등이 있을 것이다. 이 중에서 서비스의 요구 사항을 기반으로 관리해야 할 필요가 있는 속성들만 엔터티의 속성이 된다!

### 도메인(domain)

*도메인은 하나의 속성이 취할 수 있는 같은 타입의 원자값들의 집합이다.*

예를 들어 성별이라는 속성이 있다면, 이 속성이 가질 수 있는 값음 {남, 여}라는 집합이 된다!

## 필드와 레코드

![image](https://github.com/funnysunny08/Algorithm-java/assets/88873302/a0590e1c-3af2-4ef6-a609-8d4c63e8fde2)

### 필드 타입

필드는 타입을 갖는다!

예를 들어 → 이름은 문자열, 전화번호는 숫자..

이러한 타입들은 DBMS마다 다르며 여기서는 MySQL을 기준으로 설명하겠다!!

**숫자 타입**

TINYINT, SMALLINT, MEDIUMINT, INT, BIGINT, etc

**날짜 타입**

DATE, DATETIME, TIMESTAMP, etc

**문자 타입**

CHAR, VARCHAR, TEXT, BLOB, ENUM, SET, etc

*💡이 밖에도 MySQL은 굉장히 많은 타입을 제공하며 자세한 설명은 아래 공식문서를 참조하면 된다!!*

[MySQL :: MySQL 8.0 Reference Manual :: 11 Data Types](https://dev.mysql.com/doc/refman/8.0/en/data-types.html)

## 관계

데이터베이스에는 여러 개의 테이블이 있고 이러한 테이블은 서로의 관계가 정의되어 있다!

### 1:1 관계

***하나의 레코드가 다른 테이블의 레코드 한 개와 연결된 경우!***

![image](https://github.com/funnysunny08/Algorithm-java/assets/88873302/aca02adc-d750-4c60-b09c-b1798822e42e)

### 1:N 관계

***하나의 레코드가 서로 다른 여러 개의 레코드와 연결된 경우***

![image](https://github.com/funnysunny08/Algorithm-java/assets/88873302/bb85ab73-3462-46ea-8160-3109cb262844)

이 구조에서는 한 명의 유저가 여러 전화번호를 가질 수 있다.

하지만 여러명의 유저가 하나의 전화번호를 가질 수는 없다!

### N:M 관계

***여러 개의 레코드가 다른 테이블의 여러 개의 레코드와 관계가 있는 경우***

![image](https://github.com/funnysunny08/Algorithm-java/assets/88873302/278cc01e-4e6b-487e-9fcb-f683f38147fb)

N:M은 테이블 두 개를 직접적으로 연결해서 구축하지는 않고 1:N, 1:M이라는 관계를 갖는 테이블 두 개로 나눠서 설정한다!

## 키

테이블 간의 관계를 조금 더 명확하게 하고 테이블 자체의 인덱스를 위해 설정된 장치로 기본키, 외래키, 후보키, 슈퍼키, 대체키가 있다.

![image](https://github.com/funnysunny08/Algorithm-java/assets/88873302/02325e8f-069b-493d-83ba-6a080b8daf98)

후보키 중에서 기본키로 선택되지 못한 키는 대체키가 된다. 

> **유일성 :** 중복되는 값 X<br>
**최소성 :** 필드를 조합하지 않고 최소 필드만 써서 키를 형성할 수 있는 것
> 

### 기본키(Primary Key)

- 후보키 중에서 선택한 Main Key
- 한 릴레이션에서 특정 튜플을 유일하게 구별할 수 있는 속성
- null 값을 가질 수 없다!
- 동일한 값이 중복되어 저장될 수 없다!!

### 외래키(Foreign Key)

외래키는 다른 테이블의 기본키를 그대로 참조하는 값으로, 개체와의 관계를 식별하는 데 사용한다!

외래키가 되는 속성과 기본키가 되는 속성의 이름은 달라도 되지만, 외래키의 속성의 도메인과 참조되는 기본키 속성의 도메인은 반드시 같아야 한다! 

👉 도메인이 같아야 연관성 있는 튜플을 찾기 위한 비교 연산이 가능하기 때문이다.

### 후보키(Candidate Key)

기본키가 될 수 있는 후보들이며 **유일성과 최소성**을 동시에 만족하는 키

### 대체키(Alternate Key)

후보키가 두 개 이상일 경우 어느 하나를 기본키로 지정하고 남은 후보키들

### 슈퍼키(Super Key)

각 레코드들을 유일하게 식별할 수 있는 **유일성**을 갖춘 키

---

### 📚 참고 자료

- https://1-day-1-coding.tistory.com/2
- https://doorbw.tistory.com/227
- [https://hanamon.kr/관계형-데이터베이스-설계-관계-종류/](https://hanamon.kr/%EA%B4%80%EA%B3%84%ED%98%95-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%84%A4%EA%B3%84-%EA%B4%80%EA%B3%84-%EC%A2%85%EB%A5%98/)
- 면접을 위한 CS 전공지식 노트